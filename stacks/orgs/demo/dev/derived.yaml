# Test derived component overwriting 
components:
  terraform:
    derived/default:
      metadata:
        component: derived
        type: abstract
      settings:
        level1:
          example: default
      vars:
        namespace: demo
        tenant: core
        environment: ue1
        stage: dev
        foo: bar

    # this is the component that we want the settings from
    # derived/default or derived/alternate components should not affect these settings
    derived:
      metadata:
        component: derived
        inherits:
          - derived/default
      settings:
        level1:
          example: result

    # test adding an alternate component
    # should not affect the target
    derived/alternate:
      metadata:
        component: derived
        inherits:
          - derived/default
      settings:
        level1:
          example: alternate
